# Financial Advisor Agent

This project provides a multi-agent system designed to assist financial advisors by performing market analysis, developing trading strategies, and evaluating risk.

## Disclaimer

**For Educational and Informational Purposes Only.**

The information and trading strategy outlines provided by this tool, including any analysis, commentary, or potential scenarios, are generated by an AI model and are for educational and informational purposes only. They do not constitute, and should not be interpreted as, financial advice, investment recommendations, endorsements, or offers to buy or sell any securities or other financial instruments.

Google and its affiliates make no representations or warranties of any kind, express or implied, about the completeness, accuracy, reliability, suitability, or availability with respect to the information provided. Any reliance you place on such information is therefore strictly at your own risk.

## Architecture

The system is composed of a team of specialized AI agents that collaborate to provide financial insights.

*   **Data Analyst Agent:** Gathers and analyzes market data for specified stock tickers.
*   **Trading Analyst Agent:** Develops trading strategies based on market analysis and user-defined risk profiles.
*   **Execution Agent:** Creates detailed plans for implementing trading strategies.
*   **Risk Evaluation Agent:** Analyzes the risks associated with the proposed strategies and execution plans.

This diagram shows the detailed architecture of the agents and tools used:
<img src="financial-advisor.png" alt="Financial Advisor" width="800"/>

### Technology Stack

*   **Backend:** Python 3.12
*   **Dependency Management:** Poetry
*   **Containerization:** Docker
*   **Cloud Provider:** Google Cloud Platform (GCP)
*   **Infrastructure as Code:** Terraform
*   **CI/CD:** Google Cloud Build
*   **Services:**
    *   Google Cloud Run (for hosting the application)
    *   Google Cloud SQL (for the database)
    *   Google Secret Manager (for managing secrets)

## Prerequisites

Before you begin, ensure you have the following tools installed:

*   Python 3.12+
*   Poetry
*   Docker
*   Google Cloud CLI

## Local Development

### 1. Clone the Repository

```bash
git clone https://github.com/your-username/adk-trade.git
cd adk-trade
```

### 2. Configure Environment Variables

Create a `.env` file in the root of the project by copying the example file:

```bash
cp .env.example .env
```

Now, edit the `.env` file and fill in the required values for your local environment.

### 3. Install Dependencies

Install the project dependencies using Poetry:

```bash
poetry install
```

### 4. Run the Application

To run the trade scanner script directly:

```bash
poetry run python run_trade_scanner.py
```

### 5. Running Tests

To run the test suite, first install the development dependencies:

```bash
poetry install --with dev
```

Then, run pytest:

```bash
pytest
```

## Deployment to Google Cloud

This project uses Google Cloud Build and Terraform for automated deployment.

### How it Works

The `cloudbuild.yaml` file defines a CI/CD pipeline that is triggered on pushes to the main branch. The pipeline performs the following steps:

1.  **Enables Required APIs:** Ensures all necessary Google Cloud APIs are enabled for the project.
2.  **Grants Permissions:** Grants the Cloud Build service account the necessary IAM roles.
3.  **Creates GCS Bucket:** Creates a Google Cloud Storage bucket to store the Terraform state.
4.  **Builds Docker Image:** Builds the application's Docker image.
5.  **Pushes Image to GCR:** Pushes the Docker image to the Google Container Registry.
6.  **Deploys Infrastructure:** Runs Terraform to provision the necessary infrastructure (Cloud Run, Cloud SQL, Secret Manager).

### Triggering a Deployment

1.  **Configure a Cloud Build Trigger:** In your Google Cloud project, create a new Cloud Build trigger connected to your repository. Configure it to use the `cloudbuild.yaml` file from the repository and to trigger on pushes to the `main` branch.
2.  **Push to `main`:** Push your changes to the `main` branch of your repository. This will automatically trigger the deployment pipeline.

You can monitor the build and deployment progress in the Cloud Build section of the Google Cloud Console.